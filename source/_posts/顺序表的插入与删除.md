```
title: 顺序表
categories: C
date: 2023-9-21 13:11:45
tags: 数据结构
```



# 顺序表的插入与删除

#### 1.引入包和定义符号常量

```
#include<stdio.h>
#include <stdlib.h>
#define LIST_INIT_SIZE 100  
#define LISTINCREMENT 10
```

<!--more-->

#### 2.顺序表结构体的定义

```
typedef struct SqList{   	//定义顺序表结构体,SqList为结构体标签 
	int *elem;		//顺序表的第一位 
	int length;		//顺序表的长度 
	int listsize;	//顺序表的字节 
}Sqlist; //顺序表的变量 
```

#### 3.顺序表的初始化

```
void initSqList(Sqlist *list){ //初始化顺序表 
	//创建一个足够大的整数数组，使顺序表结构体中的 elem 成员指向这个数组 
	list->elem = (int *)malloc(sizeof(int) * LIST_INIT_SIZE); 
	list->length = 0; //初始化长度 
	list->listsize = LIST_INIT_SIZE;	//初始化字节 
}
```

#### 4.从键盘输入的自定义函数data_scanf()

```
int data_scanf(SqList *list, int num) { //给顺序表输入指定数字
    if (list->length >= list->listsize) { //长度大于字节 
        return 0; // 顺序表已满，插入失败
    }
    list->elem[list->length] = num;
    list->length++;
    return 1; // 插入成功
}
```

#### 5.输出顺序表的自定义函数data_print()

```
void data_print(Sqlist *list){ //顺序表输出 
	printf("\n顺序表目前的元素为:\n");
	for (int i = 0; i < list->length; i++) {
        printf("%d ", list->elem[i]);
    }
    printf("顺序表目前的长度为:%d\n",list->length);
}
```

#### 6.插入数字，并使顺序表顺序不变

```
void data_insert(SqList *list, int num) {//给顺序表插入数字并不改变顺序 
	int index = 0 ,j = list->length;
	for(;num>list->elem[index]&&index<list->length;index++); //num大于顺序表内元素并且index不能超过顺序表的长度 
	list->length++; 
	printf("添加的位置为%d\n",index);
	for(;j>index;j--){
		list->elem[j]=list->elem[j-1];
	}
	list->elem[index]=num;
}
```

#### 7.删除数字，并使顺序表顺序不变

```
int data_delete(SqList *list, int num) {//给顺序表删除数字并不改变顺序 
	int index = 0,j;
	for(;num!=list->elem[index]&&index<=list->length;index++); //寻找数字下标 
	if(index >= list->length) return 0; //下标大于等于长度，说明没有改数字 
	else 
	{
		printf("数字存在的位置为%d\n",index);
		for(j=index;j<list->length-1;j++)
		{
			list->elem[j]=list->elem[j + 1];
		}
		list->length--;
	}

​	return 1;

}
```

#### 8.主函数

```
int main()
{
	Sqlist Sqlist; //定义一个Sqlist指针 
	

​	initSqList(&Sqlist);//初始化顺序表 
​	
​	int num;
​	
​	printf("请输入不超过100个整数,输入任意其他字符结束：\n"); //从键盘输入值到顺序表 
​	 do {
​	    if (scanf("%d",&num)!=1) break ;
​	    data_scanf(&Sqlist, num);
​	}while(Sqlist.length<LIST_INIT_SIZE);
​	data_print(&Sqlist);// 打印顺序表的内容
​	
​	//清楚输入缓存区 
​	int c;	 
​	while ((c = getchar()) != '\n' && c != EOF);


​	printf("输入插入的数字：\n");
​	int num_insert;
​	scanf("%d", &num_insert);
​	data_insert(&Sqlist,num_insert); 
​	data_print(&Sqlist);// 打印顺序表的内容


​	printf("输入需要删除的数字：\n"); 
​	int num_delete,boolen; //boolen判断是否可以删除成功 
​	scanf("%d", &num_delete);
​	boolen=data_delete(&Sqlist,num_delete);
​	if(boolen==0) printf("顺序表中没有这个数字");
​	else data_print(&Sqlist);


​    

​	free(Sqlist.elem);// 释放动态分配的内存
​	return 0;

 } 


```

